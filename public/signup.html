<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <title> Register </title>
    <link rel="stylesheet" href="css/signup_style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="scripts.js"></script>
  </head>
<body>
  <div class="container">
    <div class="title">Registration</div>
    <div class="content">
      <form id="registrationForm" action="/signup" method="post">
        <div class="user-details">
          <div class="input-box">
            <span class="details">Full Name</span>
            <input type="text" id="fullname" name="fullName" placeholder="Enter your name" >
          </div>
          <div class="input-box">
            <span class="details">Username</span>
            <input type="text" id="username" name="username" placeholder="Enter your username" >
          </div>
          <div class="input-box">
            <span class="details">Email</span>
            <input type="text" id="email" name="email" placeholder="Enter your email" >
          </div>
          <div class="input-box">
            <span class="details">Phone Number</span>
            <input type="text" id="phone" name="phone" placeholder="Enter your number">
          </div>
          <div class="input-box">
            <span class="details">Password</span>
            <input type="password" id="password" name="password" placeholder="Enter your password">
          </div>
          <div class="input-box">
            <span class="details">Confirm Password</span>
            <input type="password" id="confirmPassword" placeholder="Confirm your password">
          </div>
        </div>
        <div class="gender-details">
          <input type="radio" name="gender" id="dot-1">
          <input type="radio" name="gender" id="dot-2">
          <input type="radio" name="gender" id="dot-3">
          <span class="gender-title">Gender</span>
          <div class="category">
            <label for="dot-1">
            <span class="dot one"></span>
            <span class="gender">Male</span>
          </label>
          <label for="dot-2">
            <span class="dot two"></span>
            <span class="gender">Female</span>
          </label>
          <label for="dot-3">
            <span class="dot three"></span>
            <span class="gender">Prefer not to say</span>
            </label>
          </div>
        </div>
        <div class="button">
          <button type="submit">Register</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    function validateEmail(email) {
      var re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

    function validatePhone(phone) {
      var re = /^\d{11}$/;
      return re.test(phone);
    }

    function validatePassword(password) {
      var re = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;
      return re.test(password);
    }

    function validateForm(event) {
      event.preventDefault();

      var fullName = document.getElementById("fullname").value;
      var username = document.getElementById("username").value;
      var email = document.getElementById("email").value;
      var phone = document.getElementById("phone").value;
      var password = document.getElementById("password").value;
      var confirmPassword = document.getElementById("confirmPassword").value;
      var genderMale = document.getElementById("dot-1").checked;
      var genderFemale = document.getElementById("dot-2").checked;
      var genderPreferNotToSay = document.getElementById("dot-3").checked;

      if (!validateEmail(email)) {
        alert("Invalid email format");
        return false;
      }
      if (!validatePhone(phone)) {
        alert("Invalid phone number format");
        return false;
      }
      if (!validatePassword(password)) {
        alert("Password must contain at least one number, one uppercase and one lowercase letter, and at least 6 characters");
        return false;
      }
      if (fullName === "") {
        alert("Full Name must be filled out");
        return false;
      }
      if (username === "") {
        alert("Username must be filled out");
        return false;
      }
      if (email === "") {
        alert("Email must be filled out");
        return false;
      }
      if (phone === "") {
        alert("Phone Number must be filled out");
        return false;
      }
      if (password === "") {
        alert("Password must be filled out");
        return false;
      }
      if (confirmPassword === "") {
        alert("Confirm Password must be filled out");
        return false;
      }
      if (password !== confirmPassword) {
        alert("Passwords do not match");
        return false;
      }
      if (!genderMale && !genderFemale && !genderPreferNotToSay) {
        alert("Please select a gender");
        return false;
      }

      document.getElementById("registrationForm").submit();
      return true; // Return true to allow form submission
      
    }

    document.getElementById("registrationForm").addEventListener("submit", validateForm);
  </script>
</body>
</html>
